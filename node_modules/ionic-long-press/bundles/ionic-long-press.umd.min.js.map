{"version":3,"sources":["ng://ionic-long-press/directives/long-press.directive.ts","ng://ionic-long-press/long-press.module.ts"],"names":["LongPressDirective","zone","el","this","EventEmitter","nativeElement","prototype","ngOnInit","_this","interval","Error","pressGesture","Gesture","listen","on","e","onPressStart","emit","clearInt","int","setInterval","onPressing","pressEnd","addEventListener","undefined","clearInterval","onPressEnd","ngOnDestroy","destroy","Directive","args","selector","NgZone","ElementRef","Input","Output","LongPressModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"2ZAAA,IAAAA,EAAA,WAmBI,SAAAA,EACWC,EACPC,GADOC,KAAAF,KAAAA,oBAViC,IAAIG,EAAAA,6BACN,IAAIA,EAAAA,6BACJ,IAAIA,EAAAA,aAW1CD,KAAKD,GAAKA,EAAGG,qBAGjBL,EAAAM,UAAAC,SAAA,WAAA,IAAAC,EAAAL,KAEI,GADKA,KAAKM,WAAUN,KAAKM,SAAW,KAChCN,KAAKM,SAAW,GAChB,MAAM,IAAIC,MAAM,6JAGpBP,KAAKQ,aAAe,IAAIC,EAAAA,QAAQT,KAAKD,IACrCC,KAAKQ,aAAaE,SAClBV,KAAKQ,aAAaG,GAAG,QAAS,SAACC,GAC3BP,EAAKQ,aAAaC,KAAKF,GACvBP,EAAKU,WACLV,EAAKW,OAAMC,YAAY,WACnBZ,EAAKa,WAAWJ,QACjBT,EAAKC,YAGZN,KAAKQ,aAAaG,GAAG,UAAW,SAACC,GAC7BP,EAAKc,aAGTnB,KAAKQ,aAAaG,GAAG,MAAO,SAACC,GACzBP,EAAKc,aAGTnB,KAAKQ,aAAaG,GAAG,UAAW,SAACC,GAC7BP,EAAKc,aAGTnB,KAAKD,GAAGqB,iBAAiB,aAAc,SAACR,GACpCP,EAAKc,aAGTnB,KAAKD,GAAGqB,iBAAiB,WAAY,SAACR,GAClCP,EAAKc,cAIbtB,EAAAM,UAAAY,SAAA,WACQf,KAAKgB,SAAQK,YACbC,cAActB,KAAKgB,QACnBhB,KAAKgB,OAAMK,YAInBxB,EAAAM,UAAAgB,SAAA,WACInB,KAAKe,WACLf,KAAKuB,WAAWT,QAGpBjB,EAAAM,UAAAqB,YAAA,WACIxB,KAAKmB,WACLnB,KAAKQ,aAAaiB,+BA1EzBC,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,gEAJuCC,EAAAA,cAAjCC,EAAAA,gDAQfC,EAAAA,4BAEAC,EAAAA,2BACAA,EAAAA,2BACAA,EAAAA,YAZL,GCAAC,EAAA,oDAKCC,EAAAA,SAAQP,KAAA,CAAC,CACNQ,QAAS,CACLC,EAAAA,cAEJC,aAAc,CAACxC,GACfyC,QAAS,CAACzC,SAVd","sourcesContent":["import { Directive, ElementRef, EventEmitter, Input, NgZone, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Gesture } from 'ionic-angular/gestures/gesture';\n\n@Directive({\n    selector: '[ion-long-press]'\n})\nexport class LongPressDirective implements OnInit, OnDestroy {\n\n    @Input() interval: number;\n\n    @Output() onPressStart: EventEmitter<any> = new EventEmitter();\n    @Output() onPressing: EventEmitter<any> = new EventEmitter();\n    @Output() onPressEnd: EventEmitter<any> = new EventEmitter();\n\n    el: HTMLElement;\n    pressGesture: Gesture;\n\n    int: number;\n\n    constructor(\n        public zone: NgZone,\n        el: ElementRef\n    ) {\n        this.el = el.nativeElement;\n    }\n\n    ngOnInit() {\n        if (!this.interval) this.interval = 500;\n        if (this.interval < 40) {\n            throw new Error('A limit of 40ms is imposed so you don\\'t destroy device performance. If you need less than a 40ms interval, please file an issue explaining your use case.');\n        }\n\n        this.pressGesture = new Gesture(this.el);\n        this.pressGesture.listen();\n        this.pressGesture.on('press', (e: any) => {\n            this.onPressStart.emit(e);\n            this.clearInt();\n            this.int = setInterval(() => {\n                this.onPressing.emit();\n            }, this.interval) as any;\n        });\n\n        this.pressGesture.on('pressup', (e: any) => {\n            this.pressEnd();\n        });\n\n        this.pressGesture.on('pan', (e: any) => {\n            this.pressEnd();\n        });\n\n        this.pressGesture.on('release', (e: any) => {\n            this.pressEnd();\n        });\n\n        this.el.addEventListener('mouseleave', (e: any) => {\n            this.pressEnd();\n        });\n\n        this.el.addEventListener('mouseout', (e: any) => {\n            this.pressEnd();\n        });\n    }\n\n    clearInt() {\n        if (this.int !== undefined) {\n            clearInterval(this.int);\n            this.int = undefined;\n        }\n    }\n\n    pressEnd() {\n        this.clearInt();\n        this.onPressEnd.emit();\n    }\n\n    ngOnDestroy() {\n        this.pressEnd();\n        this.pressGesture.destroy();\n    }\n}","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { Gesture } from 'ionic-angular/gestures/gesture';\nimport { LongPressDirective } from './directives/long-press.directive';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [LongPressDirective],\n    exports: [LongPressDirective]\n})\nexport class LongPressModule { }"]}