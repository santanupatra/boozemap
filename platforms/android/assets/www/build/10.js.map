{"version":3,"sources":["../../src/pages/myprofile/myprofile.module.ts","../../src/pages/myprofile/myprofile.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyprofilePage } from './myprofile';\n\n@NgModule({\n  declarations: [\n    MyprofilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyprofilePage),\n  ],\n})\nexport class MyprofilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myprofile/myprofile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, Events } from 'ionic-angular';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { Storage } from '@ionic/storage'\n\n/**\n * Generated class for the MyprofilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-myprofile',\n  templateUrl: 'myprofile.html',\n})\nexport class MyprofilePage {\n  rForm: FormGroup;\n  responseData: any;\n  error: string;\n  user_id: any;\n  user_details: any;\n  busy: boolean;\n  isValidEmail = true;\n  passwordmatch =true;\n  checkEmailExist =true;\n  constructor(\n    private builder: FormBuilder,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authService: AuthServiceProvider,\n    public alertCtrl: AlertController,\n    public loadingCtrl:LoadingController,\n    public events: Events,\n    public storage: Storage,\n    private fb: FormBuilder\n  ) {\n      this.user_details =  JSON.parse(localStorage.getItem('userData'));\n      this.user_id = this.user_details.id;\n\n      \n\n    this.rForm = fb.group({\n      'first_name':[null, Validators.required],\n      'last_name':[null, Validators.required],\n      'business_name':[null, Validators.required],\n      'email':[null, Validators.required],\n      'phone':[null, Validators.required],\n      'address':[null, Validators.required],\n      'city':[null, Validators.required],\n      'country':[null, Validators.required],      \n      'postcode': [null, Validators.required]     \n    });    \n  }\n\n  validateEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n  \n  onSubmit(formData) {\n    formData.user_id=this.user_id;\n    console.log(this.user_id);\n    console.log(this.rForm.valid);\n    if (!this.rForm.valid) {\n      const alert = this.alertCtrl.create({\n        title: 'Error!',\n        subTitle: \"Please fill all the details.\",\n        buttons: ['OK']\n      });\n      alert.present();\n    }\n    else{\n      let loading = this.loadingCtrl.create({\n        spinner: 'show',\n        content: 'Loading Please Wait...',\n        duration: 3000\n      });\n      loading.present();\n     console.log(formData);\n     this.authService.updateprofile(formData).subscribe(res=>{      \n       if(res.Ack == 1){\n        console.log(res);\n        localStorage.setItem('userData', JSON.stringify(res.userupdatedata));\n         const alert = this.alertCtrl.create({\n          title: 'Success!',\n          subTitle: res.message,\n           buttons: ['OK']\n         });\n       alert.present();\n       this.navCtrl.push('ProfilePage');\n       }\n       else{\n        const alert = this.alertCtrl.create({\n          title: 'Error!',\n          subTitle: res.message,\n          buttons: ['OK']\n        });\n      alert.present();\n       }\n      },err=>{\n       console.log(err);\n        const alert = this.alertCtrl.create({\n          title: 'Auth Failed!',\n          buttons: ['OK']\n        });\n        alert.present();\n     });\n      \n    }\n  }\n\n  ionViewDidLoad() {   \n\n    if (this.storage.get('userdata'))\n    {\n      this.rForm.controls['first_name'].setValue(this.user_details.first_name);\n      this.rForm.controls['last_name'].setValue(this.user_details.last_name);\n      this.rForm.controls['business_name'].setValue(this.user_details.business_name);\n      this.rForm.controls['email'].setValue(this.user_details.email);\n      this.rForm.controls['phone'].setValue(this.user_details.phone);\n      this.rForm.controls['city'].setValue(this.user_details.city);\n      this.rForm.controls['address'].setValue(this.user_details.address);\n      this.rForm.controls['country'].setValue(this.user_details.country);      \n      this.rForm.controls['postcode'].setValue(this.user_details.postcode);\n    }\n  else\n  {\n    this.rForm.controls['first_name'].setValue('');\n    this.rForm.controls['last_name'].setValue('');\n    this.rForm.controls['phone'].setValue('');\n    this.rForm.controls['city'].setValue('');\n    this.rForm.controls['address'].setValue('');\n    this.rForm.controls['country'].setValue('');   \n    this.rForm.controls['postcode'].setValue('');\n  }\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myprofile/myprofile.ts"],"sourceRoot":""}